<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>历史管理</title>

</head>
<body>
  <input type="button" name="" value="随机选择" id="input1">
  <div id="div1"></div>
  <script type="text/javascript">
    //触发历史管理的方法
    //      1.通过跳转页面
    //      2.改变hash值
    //      3.pushState
    
    window.onload = function(){
      var oInput = document.getElementById('input1');
      var oDiv = document.getElementById('div1');

      var json = {};

      oInput.onclick = function(){
        var num = Math.random();
        var arr = randomNum(35,7);
        json[num] = arr;
        oDiv.innerHTML = arr;
        window.location.hash = num;
        // alert(window.location.hash);    //#0.33464657
      }

      window.onhashchange = function(){
        oDiv.innerHTML = json[window.location.hash.substring(1)];
      }

      function randomNum(iAll,iNow){
        var arr = [];
        var newArr = [];
        for(var i=1; i<=iAll; i++){
          arr.push(i);
        }
        
        for(var i=0; i<iNow; i++){
          newArr.push(arr.splice(Math.floor(Math.random()*arr.length),1));
        }

        return newArr;
      }
    }
  </script>
</body>
</html>