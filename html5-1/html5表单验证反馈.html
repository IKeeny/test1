<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>html5表单验证反馈</title>
	
</head>
<body>
    <form>
       <!-- <input id="text" type="email" name="" required="" pattern="\d{1,5}"> -->
       <!-- <input id="text" type="email" name="" required="" maxlength="5"> -->
       <input id="text" type="text">
       <input type="submit" name="">
    </form>

    <script type="text/javascript">
       var oText = document.getElementById('text');
       // oText.value = '123467890';
       oText.addEventListener("invalid",fn,false);
       oText.oninput = function(){
       	  if (this.value == "敏感词") {
       	  	  this.setCustomValidity("请不要输入敏感词");
       	  }else{
       	  	  this.setCustomValidity("");
       	  }
       }
       function fn(event){
       	  // validity对象，通过下面的valid可以查看验证是否通过，当都返回false的时候，验证通过
       	  // 
       	  // alert(this.validity.valid);
       	  // 
       	  // valueMissing 输入值为空返回true
       	  // alert(this.validity.valueMissing);
       	  // 
       	  // typeMismatch 当输入类型和要求的类型不一致的时候返回true
       	  // alert(this.validity.typeMismatch);
       	  // 
       	  // patternMismatch 输入值不符合pattern正则
       	  // alert(this.validity.patternMismatch);
       	  // 
       	  // tooLong  输入值超出maxlength限制时为true 没有啥用 除非强制输入了
       	  // alert(this.validity.tooLong);
       	  // 
       	  // customError 输入值不符合自定义验证返回true
       	  alert(this.validity.customError);
       	  event.preventDefault();
       }
    </script>
</body>
</html>